"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[107],{306:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(796),i=n.n(o),r=n(51),s=n.n(r)()(i());s.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2)) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),s.locals={textItem:"hXRin0tc"};const a=s},107:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Fe});var o=n(746);function i(t){(0,o.append_styles)(t,"svelte-bbp0xy",".mondrian__clipped-KfJDq2{border-radius:inherit;display:flex;height:100%;inset:0;position:absolute;width:100%;z-index:-1}")}function r(t){let e,n;const i=t[3].default,r=(0,o.create_slot)(i,t,t[2],null);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__clipped-KfJDq2"),(0,o.set_style)(e,"clip-path",t[0])},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[e]){r&&r.p&&(!n||4&e)&&(0,o.update_slot_base)(r,i,t,t[2],n?(0,o.get_slot_changes)(i,t[2],e,null):(0,o.get_all_dirty_from_scope)(t[2]),null)},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function s(t,e,n){let{$$slots:o={},$$scope:i}=e,{item:r}=e;const s="ellipse"===r.clipPath?"ellipse(50% 50%)":void 0;return t.$$set=t=>{"item"in t&&n(1,r=t.item),"$$scope"in t&&n(2,i=t.$$scope)},[s,r,i,o]}n(919);class a extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,s,r,o.safe_not_equal,{item:1},i)}}const l=a;var c=n(195);class d{constructor(t){this.zod=t}parse(t){return this.zod.parse(t)}is(t){return this.zod.safeParse(t).success}assert(t){this.parse(t)}}const u=new d(c.ZP.object({name:c.ZP.enum(["fadeInUp"]),delay:c.ZP.number().min(0),duration:c.ZP.number().positive(),easing:c.ZP.enum(["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"])})),p=new d(c.ZP.object({id:c.ZP.string(),path:c.ZP.string(),width:c.ZP.number().optional(),height:c.ZP.number().optional()})),m=new d(c.ZP.object({unit:c.ZP.enum(["px","%","auto","fr"]),value:c.ZP.number()})),f=c.ZP.object({width:m.zod.default({value:100,unit:"%"}),aspectRatioLocked:c.ZP.boolean().default(!1),height:m.zod.default({value:100,unit:"%"}),maxWidth:m.zod.optional(),position:c.ZP.enum(["absolute","static"]).default("static"),clipPath:c.ZP.literal("ellipse").optional(),visible:c.ZP.boolean({required_error:"visible is required",invalid_type_error:"visible must be a boolean"}).default(!0),entranceAnimation:u.zod.nullable().optional()}),_=new d(f.extend({id:c.ZP.string(),tagName:c.ZP.enum(["div","figure","figcaption","blockquote"]).default("div"),parentId:c.ZP.string(),blockumentId:c.ZP.string(),name:c.ZP.string().max(128),assets:c.ZP.record(p.zod).default({}).optional(),overrides:c.ZP.record(c.ZP.string(),f.partial()).optional()})),h=new d(c.ZP.object({id:c.ZP.string(),title:c.ZP.string().optional(),maxWidth:c.ZP.number().positive()})),$=new d(c.ZP.object({id:c.ZP.string()})),g=(new d(c.ZP.object({id:c.ZP.string(),title:c.ZP.string().max(255),children:c.ZP.array($.zod).max(1),breakpoints:c.ZP.array(h.zod).optional()})),new d(c.ZP.object({borderRadius:c.ZP.object({topLeft:m.zod.default({value:0,unit:"px"}),topRight:m.zod.optional(),bottomRight:m.zod.optional(),bottomLeft:m.zod.optional()})}))),y=new d(_.zod.extend({type:c.ZP.literal("dropzone")})),b=new d(c.ZP.object({assetId:c.ZP.string().optional(),color:c.ZP.string().optional(),opacity:c.ZP.number().min(0).max(1).default(1)})),x=new d(b.zod.extend({type:c.ZP.literal("color"),color:b.zod.shape.color.unwrap().default("#e4e4e4")})),v=new d(b.zod.extend({type:c.ZP.literal("image"),assetId:b.zod.shape.assetId.unwrap()})),w=new d(b.zod.extend({type:c.ZP.literal("none")})),z=new d(c.ZP.discriminatedUnion("type",[x.zod,v.zod,w.zod])),Z=new d(c.ZP.discriminatedUnion("type",[x.zod,w.zod])),A=new d(c.ZP.object({fill:z.zod,overlay:Z.zod})),P=new d(c.ZP.object({direction:c.ZP.enum(["horizontal","vertical"]).default("vertical"),type:c.ZP.literal("flexbox"),alignItems:c.ZP.enum(["start","center","end"]).default("start"),justifyContent:c.ZP.enum(["start","center","end"]).default("start"),columnGap:m.zod.default({value:10,unit:"px"}),rowGap:m.zod.default({value:10,unit:"px"}),wrap:c.ZP.enum(["wrap","nowrap"]).default("nowrap")})),k=new d(c.ZP.object({layout:P.zod,children:c.ZP.array($.zod).default([])})),C=new d(c.ZP.object({top:m.zod.default({value:0,unit:"px"}),left:m.zod.default({value:0,unit:"px"}),bottom:m.zod.nullish(),right:m.zod.nullish()})),I=c.ZP.object({padding:C.zod}),S=new d(I.extend({overrides:c.ZP.record(c.ZP.string(),I.partial()).optional()})),E=new d(_.zod.merge(k.zod).merge(A.zod).merge(S.zod).merge(g.zod).extend({type:c.ZP.literal("group"),overrides:_.zod.shape.overrides.and(S.zod.shape.overrides)})),j=new d(_.zod.merge(A.zod).merge(g.zod).extend({type:c.ZP.literal("image"),alt:c.ZP.string(),fill:v.zod})),B=new d(_.zod.merge(A.zod).merge(g.zod).extend({type:c.ZP.literal("shape"),width:m.zod.default({unit:"px",value:100}),height:m.zod.default({unit:"px",value:100})})),M=new d(_.zod.extend({type:c.ZP.literal("spacer"),width:m.zod.default({unit:"%",value:100}),height:m.zod.default({unit:"px",value:50})})),L=new d(c.ZP.object({id:c.ZP.string(),type:c.ZP.literal("tiptap")})),q=new d(_.zod.merge(S.zod).extend({type:c.ZP.literal("text"),text:L.zod,overrides:_.zod.shape.overrides.and(S.zod.shape.overrides)})),R=new d(c.ZP.discriminatedUnion("type",[E.zod,y.zod,j.zod,B.zod,M.zod,q.zod]));var N;!function(t){t.Blockuments="blockuments",t.Items="items"}(N||(N={})),N.Blockuments,N.Items;var G=n(881),T=n(633),W=n(686),X=n(82),D=n(983),J=n(277);const O=/([a-z%]+)\s*$/i,U=G.hj.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{textSize:{default:14,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const o=O.exec(e);if(null==o)return null;switch(o[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e})=>e().setMark("textStyle",{textSize:t}).run()})}),F=G.hj.create({name:"paragraphStyle",addCommands:()=>({setParagraphStyle:(t,e)=>({dispatch:n,state:o,tr:i})=>{const r=i.selection.$from.blockRange(i.selection.$from);return null!=r&&(null!=n&&(i.doc.nodesBetween(r.start,r.end,((n,r)=>{if(n.type===o.schema.nodes.heading||n.type===o.schema.nodes.paragraph){const s="heading"===t?o.schema.nodes.heading:o.schema.nodes.paragraph,a={...n.attrs};"heading"===t&&"number"==typeof e.level&&(a.level=e.level),i.setNodeMarkup(r,s,a,n.marks)}if(n.type===o.schema.nodes.text){const t=o.schema.marks.textStyle.isInSet(n.marks);i.addMark(r,r+n.nodeSize,o.schema.marks.textStyle.create({...t?.attrs,textSize:e.textSize}))}})),e.bold?i.addMark(r.start,r.end,o.schema.marks.bold.create()):i.removeMark(r.start,r.end,o.schema.marks.bold)),!0)}})}),K=[J.Z.configure({history:!1,heading:{levels:[1,2]}}),W.Z.configure({types:["heading","paragraph"]}),X.Z,T.Z,F,U,D.Z];(0,G.J1)(K);var Q=n(317);const H=()=>(0,Q.getContext)("bundle"),Y=()=>(0,Q.getContext)("isLearn"),V="mondrian-breakpoints";function tt(t){(0,Q.setContext)(V,t)}const et=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}};function nt(t,e){const n="fr"===t.unit?null:et(t),o="fr"===t.unit?t.value:"none";return[n,"fr"===e.unit?100*e.value+"%":et(e),o]}function ot(t,e){const n=Math.floor(100/parseInt(t));return`calc(${t} - (${e} * ${n-1} / ${n}))`}const it=matchMedia("(prefers-reduced-motion)"),rt={fadeInUp:[{opacity:0,transform:"translate3d(0, 25px, 0)"},{opacity:1,transform:"translateZ(0)"}]},st=new WeakMap,at=new IntersectionObserver((t=>{for(const e of t){if(!e.isIntersecting)continue;const t=st.get(e.target);null!=t&&"paused"===t.playState&&t.play()}}),{threshold:.3}),lt=(t,e)=>{if(null==e?.animation||!e?.enabled||it.matches)return;const n=rt[e.animation.name],o=t.animate(n,{delay:e.animation.delay,duration:e.animation.duration,easing:e.animation.easing});return o.pause(),st.set(t,o),at.observe(t),{destroy(){o.cancel(),st.delete(t),at.unobserve(t)}}};function ct(t,e){const n=structuredClone(t);delete n.overrides;for(const o of e){const e=t.overrides?.[o];if(null!=e)for(const[t,o]of Object.entries(e))n[t]=o}return n}function dt(t){(0,o.append_styles)(t,"svelte-1cx7a5",".mondrian__fill-QARoMt{background-position:center;background-size:cover;inset:0;position:absolute;border-radius:inherit}")}function ut(t){let e;return{c(){e=(0,o.element)("div"),(0,o.attr)(e,"class","mondrian__fill-QARoMt"),(0,o.set_style)(e,"background-color",t[1]),(0,o.set_style)(e,"background-image",t[2]),(0,o.set_style)(e,"opacity",t[0].opacity)},m(t,n){(0,o.insert)(t,e,n)},p(t,n){2&n&&(0,o.set_style)(e,"background-color",t[1]),4&n&&(0,o.set_style)(e,"background-image",t[2]),1&n&&(0,o.set_style)(e,"opacity",t[0].opacity)},d(t){t&&(0,o.detach)(e)}}}function pt(t){let e,n=(null!=t[1]||null!=t[2])&&ut(t);return{c(){n&&n.c(),e=(0,o.empty)()},m(t,i){n&&n.m(t,i),(0,o.insert)(t,e,i)},p(t,[o]){null!=t[1]||null!=t[2]?n?n.p(t,o):(n=ut(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),n&&n.d(t)}}}function mt(t,e,n){let{assets:o}=e,{fill:i}=e,r=null,s=null;return t.$$set=t=>{"assets"in t&&n(3,o=t.assets),"fill"in t&&n(0,i=t.fill)},t.$$.update=()=>{if(9&t.$$.dirty)switch(i?.type){case"color":n(1,r=i.color),n(2,s=null);break;case"image":{n(1,r=null);const t=o?.[i.assetId];n(2,s=null==t?null:`url("${function(t){return`assets/${t.path}`}(t)}")`);break}default:n(1,r=n(2,s=null))}},[i,r,s,o]}class ft extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,mt,pt,o.safe_not_equal,{assets:3,fill:0},dt)}}const _t=ft;function ht(t){(0,o.append_styles)(t,"svelte-1db74vy",".mondrian__dimension-2DOqK3{display:flex;position:relative;margin:0;align-items:inherit;justify-content:inherit;flex-direction:inherit;z-index:1}.mondrian__dimension-2DOqK3.mondrian__--hidden-1G55QS{display:none}")}function $t(t){let e,n;return e=new _t({props:{assets:t[0].assets,fill:t[6]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n&&(o.assets=t[0].assets),64&n&&(o.fill=t[6]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function gt(t){let e,n;return e=new _t({props:{assets:t[0].assets,fill:t[5]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n&&(o.assets=t[0].assets),32&n&&(o.fill=t[5]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function yt(t){let e,n,i,r=null!=t[6]&&$t(t),s=null!=t[5]&&gt(t);return{c(){r&&r.c(),e=(0,o.space)(),s&&s.c(),n=(0,o.empty)()},m(t,a){r&&r.m(t,a),(0,o.insert)(t,e,a),s&&s.m(t,a),(0,o.insert)(t,n,a),i=!0},p(t,i){null!=t[6]?r?(r.p(t,i),64&i&&(0,o.transition_in)(r,1)):(r=$t(t),r.c(),(0,o.transition_in)(r,1),r.m(e.parentNode,e)):r&&((0,o.group_outros)(),(0,o.transition_out)(r,1,1,(()=>{r=null})),(0,o.check_outros)()),null!=t[5]?s?(s.p(t,i),32&i&&(0,o.transition_in)(s,1)):(s=gt(t),s.c(),(0,o.transition_in)(s,1),s.m(n.parentNode,n)):s&&((0,o.group_outros)(),(0,o.transition_out)(s,1,1,(()=>{s=null})),(0,o.check_outros)())},i(t){i||((0,o.transition_in)(r),(0,o.transition_in)(s),i=!0)},o(t){(0,o.transition_out)(r),(0,o.transition_out)(s),i=!1},d(t){t&&((0,o.detach)(e),(0,o.detach)(n)),r&&r.d(t),s&&s.d(t)}}}function bt(t){let e,n,i,r,s,a,c;n=new l({props:{item:t[0],$$slots:{default:[yt]},$$scope:{ctx:t}}});const d=t[9].default,u=(0,o.create_slot)(d,t,t[10],null);return{c(){e=(0,o.element)(t[1]),(0,o.create_component)(n.$$.fragment),i=(0,o.space)(),u&&u.c(),(0,o.set_dynamic_element_data)(t[1])(e,{class:"mondrian__dimension-2DOqK3"}),(0,o.toggle_class)(e,"mondrian__--hidden-1G55QS",!t[0].visible),(0,o.set_style)(e,"aspect-ratio",t[4]),(0,o.set_style)(e,"width",t[7].width),(0,o.set_style)(e,"height",t[7].height),(0,o.set_style)(e,"flex",t[7].flex),(0,o.set_style)(e,"border-radius",t[3]),(0,o.set_style)(e,"max-width",t[2])},m(l,d){(0,o.insert)(l,e,d),(0,o.mount_component)(n,e,null),(0,o.append)(e,i),u&&u.m(e,null),s=!0,a||(c=(0,o.action_destroyer)(r=lt.call(null,e,{animation:t[0].entranceAnimation,enabled:Y()})),a=!0)},p(t,i){const a={};1&i&&(a.item=t[0]),1121&i&&(a.$$scope={dirty:i,ctx:t}),n.$set(a),u&&u.p&&(!s||1024&i)&&(0,o.update_slot_base)(u,d,t,t[10],s?(0,o.get_slot_changes)(d,t[10],i,null):(0,o.get_all_dirty_from_scope)(t[10]),null),r&&(0,o.is_function)(r.update)&&1&i&&r.update.call(null,{animation:t[0].entranceAnimation,enabled:Y()}),(!s||1&i)&&(0,o.toggle_class)(e,"mondrian__--hidden-1G55QS",!t[0].visible),16&i&&(0,o.set_style)(e,"aspect-ratio",t[4]),128&i&&(0,o.set_style)(e,"width",t[7].width),128&i&&(0,o.set_style)(e,"height",t[7].height),128&i&&(0,o.set_style)(e,"flex",t[7].flex),8&i&&(0,o.set_style)(e,"border-radius",t[3]),4&i&&(0,o.set_style)(e,"max-width",t[2])},i(t){s||((0,o.transition_in)(n.$$.fragment,t),(0,o.transition_in)(u,t),s=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),(0,o.transition_out)(u,t),s=!1},d(t){t&&(0,o.detach)(e),(0,o.destroy_component)(n),u&&u.d(t),a=!1,c()}}}function xt(t){let e,n,i=t[1],r=t[1]&&bt(t);return{c(){r&&r.c(),e=(0,o.empty)()},m(t,i){r&&r.m(t,i),(0,o.insert)(t,e,i),n=!0},p(t,[n]){t[1]?i?(0,o.safe_not_equal)(i,t[1])?(r.d(1),r=bt(t),i=t[1],r.c(),r.m(e.parentNode,e)):r.p(t,n):(r=bt(t),i=t[1],r.c(),r.m(e.parentNode,e)):i&&(r.d(1),r=null,i=t[1])},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function vt(t,e,n){let o,i,r,s,a,l,c,{$$slots:d={},$$scope:u}=e,{item:p}=e,{parent:m}=e;return t.$$set=t=>{"item"in t&&n(0,p=t.item),"parent"in t&&n(8,m=t.parent),"$$scope"in t&&n(10,u=t.$$scope)},t.$$.update=()=>{257&t.$$.dirty&&n(7,o=((t,e)=>{let n,o,i;E.is(e)&&"horizontal"===e?.layout?.direction?[n,o,i]=nt(t.width,t.height):[o,n,i]=nt(t.height,t.width);const r=n?.endsWith("%")?ot(n,"var(--flexbox-column-gap, 0px)"):n;return{height:o?.endsWith("%")?ot(o,"var(--flexbox-row-gap, 0px)"):o,width:r,flex:i}})(p,m)),1&t.$$.dirty&&n(6,i=A.is(p)?p.fill:void 0),1&t.$$.dirty&&n(5,r=A.is(p)?p.overlay:void 0),1&t.$$.dirty&&n(4,s=(t=>{if(j.is(t)){const e=t.assets?.[t.fill.assetId];return e?.width&&e?.height?`${e.width} / ${e.height}`:null}return null})(p)),1&t.$$.dirty&&n(3,a=g.is(p)?et(p.borderRadius.topLeft):void 0),1&t.$$.dirty&&n(2,l=null==p.maxWidth?void 0:et(p.maxWidth)),1&t.$$.dirty&&n(1,c=p.tagName??"div")},[p,c,l,a,s,r,i,o,m,d,u]}class wt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,vt,xt,o.safe_not_equal,{item:0,parent:8},ht)}}const zt=wt;function Zt(t){(0,o.append_styles)(t,"svelte-1lz0gl3",".mondrian__img-3t4kCh{height:100%;width:100%}")}function At(t){let e,n;return{c(){e=(0,o.element)("div"),(0,o.attr)(e,"aria-label",n=t[0].alt),(0,o.attr)(e,"class","mondrian__img-3t4kCh"),(0,o.attr)(e,"role","img")},m(t,n){(0,o.insert)(t,e,n)},p(t,[i]){1&i&&n!==(n=t[0].alt)&&(0,o.attr)(e,"aria-label",n)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}function Pt(t,e,n){let{item:o}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o]}class kt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Pt,At,o.safe_not_equal,{item:0},Zt)}}const Ct=kt;function It(t){(0,o.append_styles)(t,"svelte-spjr6j",".mondrian__item-twlGYI{display:flex;flex:1;height:100%;width:100%}")}function St(t){let e,n,i;var r=t[2];function s(t,e){return{props:{item:t[0]}}}return r&&(n=(0,o.construct_svelte_component)(r,s(t))),{c(){e=(0,o.element)("div"),n&&(0,o.create_component)(n.$$.fragment),(0,o.attr)(e,"class","mondrian__item-twlGYI"),(0,o.set_style)(e,"padding",t[1])},m(t,r){(0,o.insert)(t,e,r),n&&(0,o.mount_component)(n,e,null),i=!0},p(t,i){if(4&i&&r!==(r=t[2])){if(n){(0,o.group_outros)();const t=n;(0,o.transition_out)(t.$$.fragment,1,0,(()=>{(0,o.destroy_component)(t,1)})),(0,o.check_outros)()}r?(n=(0,o.construct_svelte_component)(r,s(t)),(0,o.create_component)(n.$$.fragment),(0,o.transition_in)(n.$$.fragment,1),(0,o.mount_component)(n,e,null)):n=null}else if(r){const e={};1&i&&(e.item=t[0]),n.$set(e)}2&i&&(0,o.set_style)(e,"padding",t[1])},i(t){i||(n&&(0,o.transition_in)(n.$$.fragment,t),i=!0)},o(t){n&&(0,o.transition_out)(n.$$.fragment,t),i=!1},d(t){t&&(0,o.detach)(e),n&&(0,o.destroy_component)(n)}}}function Et(t){let e,n,i=R.is(t[0]),r=i&&St(t);return{c(){r&&r.c(),e=(0,o.empty)()},m(t,i){r&&r.m(t,i),(0,o.insert)(t,e,i),n=!0},p(t,[n]){1&n&&(i=R.is(t[0])),i?r?(r.p(t,n),1&n&&(0,o.transition_in)(r,1)):(r=St(t),r.c(),(0,o.transition_in)(r,1),r.m(e.parentNode,e)):r&&((0,o.group_outros)(),(0,o.transition_out)(r,1,1,(()=>{r=null})),(0,o.check_outros)())},i(t){n||((0,o.transition_in)(r),n=!0)},o(t){(0,o.transition_out)(r),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function jt(t,e,n){let o,i,{item:r}=e;const{Dropzone:s,TextItem:a,Flexbox:l}=H(),c={image:Ct,text:a,group:l,dropzone:s};return t.$$set=t=>{"item"in t&&n(0,r=t.item)},t.$$.update=()=>{1&t.$$.dirty&&n(2,o=c[r.type]),1&t.$$.dirty&&n(1,i=S.is(r)?(({padding:t})=>{const e=et(t.top),n=et(t.left),o=et(t.bottom??t.top);return`${e} ${et(t.right??t.left)} ${o} ${n}`})(r):null)},[r,i,o]}class Bt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,jt,Et,o.safe_not_equal,{item:0},It)}}const Mt=Bt,Lt=[["white",16777215],["grey-200",16316664],["grey-300",15658734],["grey-400",15000804],["grey-500",13421772],["grey-600",9408399],["grey-700",7368816],["grey-800",2631720],["black",0],["primary-100",15593471],["primary-300",10200317],["primary-500",4874236],["primary-700",2569145],["primary-900",527710]],qt=Lt.map((([t,e])=>[t,[e>>16&255,e>>8&255,255&e]])),Rt=new Array;for(const[t,e]of Lt)Rt.push(`--mon-color-${t}: #${e.toString(16).padStart(6,"0")}`);for(const[t,e]of qt)Rt.push(`--mon-color-${t}-rgb: ${e.join(", ")}`);function Nt(t){(0,o.append_styles)(t,"svelte-1q4ao5l",".mondrian__flexbox-1euBmB{display:flex;flex:1;position:relative;column-gap:var(--flexbox-column-gap);row-gap:var(--flexbox-row-gap)}.flexbox:has(.flexbox) > .dropzone{--mon-flexbox-item-dropzone-overlap:0px}")}(new CSSStyleSheet).insertRule(`:root { ${Rt.join("; ")} }`);const Gt=t=>({}),Tt=t=>({});function Wt(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function Xt(t){let e;const n=t[5].empty,i=(0,o.create_slot)(n,t,t[4],Tt);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||16&r)&&(0,o.update_slot_base)(i,n,t,t[4],e?(0,o.get_slot_changes)(n,t[4],r,Gt):(0,o.get_all_dirty_from_scope)(t[4]),Tt)},i(t){e||((0,o.transition_in)(i,t),e=!0)},o(t){(0,o.transition_out)(i,t),e=!1},d(t){i&&i.d(t)}}}function Dt(t){let e,n,i=[],r=new Map,s=(0,o.ensure_array_like)(t[0].children);const a=t=>t[7].id;for(let e=0;e<s.length;e+=1){let n=Wt(t,s,e),o=a(n);r.set(o,i[e]=Jt(o,n))}return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=(0,o.empty)()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);(0,o.insert)(t,e,r),n=!0},p(t,n){9&n&&(s=(0,o.ensure_array_like)(t[0].children),(0,o.group_outros)(),i=(0,o.update_keyed_each)(i,n,a,1,t,s,r,e.parentNode,o.outro_and_destroy_block,Jt,e,Wt),(0,o.check_outros)())},i(t){if(!n){for(let t=0;t<s.length;t+=1)(0,o.transition_in)(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)(0,o.transition_out)(i[t]);n=!1},d(t){t&&(0,o.detach)(e);for(let e=0;e<i.length;e+=1)i[e].d(t)}}}function Jt(t,e){let n,i,r,s;var a=e[3];function l(t,e){return{props:{itemId:t[7].id,parent:t[0]}}}return a&&(i=(0,o.construct_svelte_component)(a,l(e))),{key:t,first:null,c(){n=(0,o.empty)(),i&&(0,o.create_component)(i.$$.fragment),r=(0,o.empty)(),this.first=n},m(t,e){(0,o.insert)(t,n,e),i&&(0,o.mount_component)(i,t,e),(0,o.insert)(t,r,e),s=!0},p(t,n){if(a!==(a=(e=t)[3])){if(i){(0,o.group_outros)();const t=i;(0,o.transition_out)(t.$$.fragment,1,0,(()=>{(0,o.destroy_component)(t,1)})),(0,o.check_outros)()}a?(i=(0,o.construct_svelte_component)(a,l(e)),(0,o.create_component)(i.$$.fragment),(0,o.transition_in)(i.$$.fragment,1),(0,o.mount_component)(i,r.parentNode,r)):i=null}else if(a){const t={};1&n&&(t.itemId=e[7].id),1&n&&(t.parent=e[0]),i.$set(t)}},i(t){s||(i&&(0,o.transition_in)(i.$$.fragment,t),s=!0)},o(t){i&&(0,o.transition_out)(i.$$.fragment,t),s=!1},d(t){t&&((0,o.detach)(n),(0,o.detach)(r)),i&&(0,o.destroy_component)(i,t)}}}function Ot(t){let e,n,i,r,s,a;const l=[Dt,Xt],c=[];function d(t,e){return t[1]?1:0}return n=d(t),i=c[n]=l[n](t),{c(){e=(0,o.element)("div"),i.c(),(0,o.attr)(e,"class","mondrian__flexbox-1euBmB"),(0,o.set_style)(e,"display","flex"),(0,o.set_style)(e,"align-items",t[2]?t[0].layout.alignItems:t[0].layout.justifyContent),(0,o.set_style)(e,"justify-content",t[2]?t[0].layout.justifyContent:t[0].layout.alignItems),(0,o.set_style)(e,"flex-direction",t[2]?"row":"column"),(0,o.set_style)(e,"flex-wrap",t[0].layout.wrap),(0,o.set_style)(e,"--flexbox-column-gap",et(t[0].layout.columnGap)),(0,o.set_style)(e,"--flexbox-row-gap",et(t[0].layout.rowGap))},m(i,l){(0,o.insert)(i,e,l),c[n].m(e,null),r=!0,s||(a=(0,o.listen)(e,"dragover",(0,o.prevent_default)(t[6])),s=!0)},p(t,[r]){let s=n;n=d(t),n===s?c[n].p(t,r):((0,o.group_outros)(),(0,o.transition_out)(c[s],1,1,(()=>{c[s]=null})),(0,o.check_outros)(),i=c[n],i?i.p(t,r):(i=c[n]=l[n](t),i.c()),(0,o.transition_in)(i,1),i.m(e,null)),5&r&&(0,o.set_style)(e,"align-items",t[2]?t[0].layout.alignItems:t[0].layout.justifyContent),5&r&&(0,o.set_style)(e,"justify-content",t[2]?t[0].layout.justifyContent:t[0].layout.alignItems),4&r&&(0,o.set_style)(e,"flex-direction",t[2]?"row":"column"),1&r&&(0,o.set_style)(e,"flex-wrap",t[0].layout.wrap),1&r&&(0,o.set_style)(e,"--flexbox-column-gap",et(t[0].layout.columnGap)),1&r&&(0,o.set_style)(e,"--flexbox-row-gap",et(t[0].layout.rowGap))},i(t){r||((0,o.transition_in)(i),r=!0)},o(t){(0,o.transition_out)(i),r=!1},d(t){t&&(0,o.detach)(e),c[n].d(),s=!1,a()}}}function Ut(t,e,n){let i,r,{$$slots:s={},$$scope:a}=e,{item:l}=e;const{FlexItem:c}=H();return t.$$set=t=>{"item"in t&&n(0,l=t.item),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(2,i="horizontal"===l.layout.direction),1&t.$$.dirty&&n(1,r=0===l.children.length)},[l,r,i,c,a,s,function(e){o.bubble.call(this,t,e)}]}class Ft extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Ut,Ot,o.safe_not_equal,{item:0},Nt)}}const Kt=Ft;n(209);var Qt=n(516);const Ht={down:!1,x:0,y:0},Yt=((0,Qt.readable)(Ht,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",o),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)};function e(){Ht.down=!0,i()}function n(){Ht.down=!1,i()}function o(t){Ht.x=t.x,Ht.y=t.y,i()}function i(){t(Ht)}})),"mondrian-suspense");function Vt(t){(0,o.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}function te(t){let e,n;const i=t[2].default,r=(0,o.create_slot)(i,t,t[1],null);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[s]){r&&r.p&&(!n||2&s)&&(0,o.update_slot_base)(r,i,t,t[1],n?(0,o.get_slot_changes)(i,t[1],s,null):(0,o.get_all_dirty_from_scope)(t[1]),null),(!n||1&s)&&(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function ee(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=function(){const t=new Set;return(0,Q.setContext)(Yt,t),t}();let s=!0;return(0,Q.onMount)((()=>{Promise.all(r).then((()=>{n(0,s=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,i=t.$$scope)},[s,i,o]}n(967);class ne extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ee,te,o.safe_not_equal,{},Vt)}}const oe=ne;function ie(t){(0,o.append_styles)(t,"svelte-sbs1g9",".mondrian__learn-dropzone-3JMGUL{height:100%;width:100%}")}function re(t){let e;return{c(){e=(0,o.element)("div"),(0,o.attr)(e,"class","mondrian__learn-dropzone-3JMGUL")},m(t,n){(0,o.insert)(t,e,n)},p:o.noop,i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}class se extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,null,re,o.safe_not_equal,{},ie)}}const ae=se,le=function(){const t=(0,Qt.writable)({blockuments:{},items:{},tiptap:{}}),{subscribe:e,set:n,update:o}=t,i=new Map;return{subscribe:e,set:n,update:o,addManifest:(t,e)=>{i.set(t,e),r()},removeManifest:t=>{i.delete(t),r()}};function r(){n(function(...t){const e={};for(const n of t)for(const[t,o]of Object.entries(n))e[t]=Object.assign({},e[t],o);return e}(...i.values()))}}();function ce(t){let e,n;return e=new zt({props:{item:t[0],parent:t[1],$$slots:{default:[de]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n&&(o.item=t[0]),2&n&&(o.parent=t[1]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function de(t){let e,n;return e=new Mt({props:{item:t[0]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n&&(o.item=t[0]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function ue(t){let e,n,i=R.is(t[0]),r=i&&ce(t);return{c(){r&&r.c(),e=(0,o.empty)()},m(t,i){r&&r.m(t,i),(0,o.insert)(t,e,i),n=!0},p(t,[n]){1&n&&(i=R.is(t[0])),i?r?(r.p(t,n),1&n&&(0,o.transition_in)(r,1)):(r=ce(t),r.c(),(0,o.transition_in)(r,1),r.m(e.parentNode,e)):r&&((0,o.group_outros)(),(0,o.transition_out)(r,1,1,(()=>{r=null})),(0,o.check_outros)())},i(t){n||((0,o.transition_in)(r),n=!0)},o(t){(0,o.transition_out)(r),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function pe(t,e,n){let i,r,s,a,l;(0,o.component_subscribe)(t,le,(t=>n(6,l=t)));let{itemId:c}=e;const d=(0,Q.getContext)(V);return(0,o.component_subscribe)(t,d,(t=>n(5,a=t))),t.$$set=t=>{"itemId"in t&&n(3,c=t.itemId)},t.$$.update=()=>{64&t.$$.dirty&&n(4,i=void 0!==l.items?l.items:{}),56&t.$$.dirty&&n(0,r=ct(i[c],a)),17&t.$$.dirty&&n(1,s=i[r.parentId])},[r,s,d,c,i,a,l]}class me extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,pe,ue,o.safe_not_equal,{itemId:3})}}const fe=me;var _e=n(743),he=n.n(_e),$e=n(124),ge=n.n($e),ye=n(389),be=n.n(ye),xe=n(35),ve=n.n(xe),we=n(594),ze=n.n(we),Ze=n(799),Ae=n.n(Ze),Pe=n(306),ke={};ke.styleTagTransform=Ae(),ke.setAttributes=ve(),ke.insert=be().bind(null,"head"),ke.domAPI=ge(),ke.insertStyleElement=ze(),he()(Pe.Z,ke);const Ce=Pe.Z&&Pe.Z.locals?Pe.Z.locals:void 0;var Ie=n(111);function Se(t){let e,n,i,r=(0,Ie.a)(t[0],K)+"";return{c(){e=(0,o.element)("div"),n=(0,o.element)("div"),(0,o.attr)(n,"class","tiptap"),(0,o.attr)(e,"class",i=Ce.textItem)},m(t,i){(0,o.insert)(t,e,i),(0,o.append)(e,n),n.innerHTML=r},p(t,e){1&e&&r!==(r=(0,Ie.a)(t[0],K)+"")&&(n.innerHTML=r)},d(t){t&&(0,o.detach)(e)}}}function Ee(t){let e,n=void 0!==t[0]&&Se(t);return{c(){n&&n.c(),e=(0,o.empty)()},m(t,i){n&&n.m(t,i),(0,o.insert)(t,e,i)},p(t,[o]){void 0!==t[0]?n?n.p(t,o):(n=Se(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),n&&n.d(t)}}}function je(t,e,n){let i,r,s;(0,o.component_subscribe)(t,le,(t=>n(3,s=t)));let{item:a}=e;return t.$$set=t=>{"item"in t&&n(1,a=t.item)},t.$$.update=()=>{2&t.$$.dirty&&n(2,i=a.text.id),12&t.$$.dirty&&n(0,r=s.tiptap?.[i])},[r,a,i,s]}class Be extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,je,Ee,o.safe_not_equal,{item:1})}}const Me={Dropzone:ae,Flexbox:Kt,FlexItem:fe,TextItem:Be};function Le(t){(0,o.append_styles)(t,"svelte-1inw3vq",".mondrian__preview-24mP5P{display:flex}")}function qe(t){let e,n;return e=new oe({props:{$$slots:{default:[Ge]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1031&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Re(t){let e;return{c(){e=(0,o.element)("div"),e.textContent="Block could not be loaded"},m(t,n){(0,o.insert)(t,e,n)},p:o.noop,i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}function Ne(t){let e,n;return e=new Mt({props:{item:t[9]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};7&n&&(o.item=t[9]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Ge(t){let e,n,i;return n=new zt({props:{item:t[9],$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){e=(0,o.element)("div"),(0,o.create_component)(n.$$.fragment),(0,o.attr)(e,"class","mondrian__preview-24mP5P")},m(t,r){(0,o.insert)(t,e,r),(0,o.mount_component)(n,e,null),i=!0},p(t,e){const o={};7&e&&(o.item=t[9]),1031&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){i||((0,o.transition_in)(n.$$.fragment,t),i=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),i=!1},d(t){t&&(0,o.detach)(e),(0,o.destroy_component)(n)}}}function Te(t){let e,n,i,r;const s=[Re,qe],a=[];function l(t,e){return void 0===t[3]||void 0===t[0]?0:1}function c(t,e){return 1===e?function(t){const e=t.slice(),n=ct(e[1][e[0]],e[2]);return e[9]=n,e}(t):t}return e=l(t),n=a[e]=s[e](c(t,e)),{c(){n.c(),i=(0,o.empty)()},m(t,n){a[e].m(t,n),(0,o.insert)(t,i,n),r=!0},p(t,[r]){let d=e;e=l(t),e===d?a[e].p(c(t,e),r):((0,o.group_outros)(),(0,o.transition_out)(a[d],1,1,(()=>{a[d]=null})),(0,o.check_outros)(),n=a[e],n?n.p(c(t,e),r):(n=a[e]=s[e](c(t,e)),n.c()),(0,o.transition_in)(n,1),n.m(i.parentNode,i))},i(t){r||((0,o.transition_in)(n),r=!0)},o(t){(0,o.transition_out)(n),r=!1},d(t){t&&(0,o.detach)(i),a[e].d(t)}}}function We(t,e,n){let i,r,s,a,{manifest:l}=e,{blockumentId:c}=e;const d=Symbol("LearnComponent");(0,Q.onDestroy)((()=>{le.removeManifest(d)})),(0,Q.setContext)("isLearn",!0),(0,Q.setContext)("bundle",Me);const u=(0,Qt.writable)();(0,o.component_subscribe)(t,u,(t=>n(7,s=t)));const p=function(t){return(0,Qt.readable)([],(e=>{t.subscribe((t=>{const n=t?.breakpoints;if(null==n)return void e([]);const o=n.concat().sort(((t,e)=>e.maxWidth-t.maxWidth)),i=o.reduce(((t,{id:e,maxWidth:n})=>{const o=window.matchMedia(`(max-width: ${n/16}rem)`);return o.addEventListener("change",r),t[e]=o,t}),{});return r(),function(){for(const t of Object.values(i))t.removeEventListener("change",r)};function r(){const t=new Array;for(const{id:e}of o)i[e].matches&&t.push(e);e(t)}}))}))}(u);return(0,o.component_subscribe)(t,p,(t=>n(2,a=t))),tt(p),t.$$set=t=>{"manifest"in t&&n(5,l=t.manifest),"blockumentId"in t&&n(6,c=t.blockumentId)},t.$$.update=()=>{32&t.$$.dirty&&le.addManifest(d,l),96&t.$$.dirty&&(0,o.set_store_value)(u,s=l.blockuments?.[c],s),32&t.$$.dirty&&n(1,i=l.items??{}),128&t.$$.dirty&&n(0,r=s?.children[0]?.id)},[r,i,a,u,p,l,c,s]}class Xe extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,We,Te,o.safe_not_equal,{manifest:5,blockumentId:6},Le)}}const De=Xe;var Je=n(428),Oe=n.n(Je);const Ue=((t,e={},n="div")=>o=>{const i=(0,Je.useRef)(null),r=(0,Je.useRef)(null),[s,a]=(0,Je.useState)(!1);return(0,Je.useEffect)((()=>{const e=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;r.current=new t({target:i.current,props:o});const s=[];for(const t in o){const i=t.match(e),a=t.match(n);null!=i&&"function"==typeof o[t]&&r.current.$on(`${i[1][0].toLowerCase()}${i[1].slice(1)}`,o[t]),null!=a&&"function"==typeof o[t]&&s.push([`${a[1][0].toLowerCase()}${a[1].slice(1)}`,o[t]])}if(s.length>0){const t=r.current.$$.update;r.current.$$.update=function(){s.forEach((([t,e])=>{if(null!==r.current){const n=r.current.$$.props[t];e(r.current.$$.ctx[n])}})),t.apply(null)}}return()=>{null!==r.current&&r.current.$destroy()}}),[o]),(0,Je.useEffect)((()=>{s?null!==r.current&&r.current.$set(o):a(!0)}),[o,s]),Oe().createElement(n,{ref:i,style:e})})(De),Fe=t=>Oe().createElement(Ue,{...t})}}]);
//# sourceMappingURL=c2f6b4b8.js.map